{"version":3,"sources":["index.js"],"names":["fs","require","_","q","e","EasyQuery","obj","_this","this","queued","languages","_initialize","config","_readLang","_readBuildCSS","_readBuildVars","_readRem","_readLib","lib","ex","_throwException","E2L002","$rpx","_pxToRem","cfg","hasOwnProperty","library","constructor","Array","_readCustomArray","framework","toString","E2L001","contains","toLowerCase","lang","E2G001","remSize","E2G008","buildVars","E2G002","E2G003","strings","every","item","_validateArrayValue","E2G004","_parseCustomArray","E2G005","test","E2G006","each","element","index","parsedItem","match","value","trim","unit","pixels","exception","excpt","Error","debugMode","console","error","log","_getBreakNames","count","_generateRange","points","key","pfx","_isFirst","query","braceL","braceR","_isInner","pointAbove","pointBelow","pointCurrent","bpBelow","bpCurrent","length","_isLast","_build","path","que","x","_writeFile","then","_handleWriteFulfill","_handleWriteError","E2I001","deferred","defer","language","writeFile","reject","returnPath","resolve","promise","err","E2F001","write","cb","getCSS","buildCSS","builtCSS","E0G111","E1P005","getVariables","builtVars","E2G213","E0G112","E1P006","getLanguage","E1P001","getLanguages","E1P004","setLanguage","E1G109","getBreakpoints","E1P003","setBreakpoints","getRemSize","E1P002","setRemSize","rem","E2G110","getDebugMode","E1P007","setDebugMode","module","exports","object"],"mappings":"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","file":"index.min.js","sourcesContent":["/// <reference path=\"../typings/index.d.ts\" />\nvar fs = require(\"fs\");\nvar _ = require(\"underscore\");\nvar q = require(\"q\");\nvar e = require(\"./errors.json\")[0];\nvar EasyQuery = (function () {\n    function EasyQuery(obj) {\n        var _this = this;\n        this.queued = \"$screen: 'only screen' !default;\\n\\n@function lower-bound($range) {\\n\\n\\t@if length($range) <= 0 {\\n\\t\\t@return 0;\\n\\t}\\n\\n\\t@return nth($range, 1);\\n}\\n\\n@function upper-bound($range) {\\n\\n\\t@if length($range) < 2 {\\n\\t\\t@return 999999999999;\\n\\t}\\n\\n\\t@return nth($range, 2);\\n\\n\";\n        this.languages = [\"sass\", \"scss\", \"less\"];\n        /** PRIVATE FUNCTIONS **/\n        this._initialize = function (config) {\n            if (!!config) {\n                _this._readLang(config);\n                _this._readBuildCSS(config);\n                _this._readBuildVars(config);\n                _this._readRem(config);\n                _this._readLib(config);\n            }\n            else {\n                try {\n                    _this.lib = require(\"./frameworks/bootstrap3\");\n                }\n                catch (ex) {\n                    _this._throwException(e.E2L002);\n                }\n            }\n            _this.$rpx = _this._pxToRem(1);\n        };\n        this._readLib = function (cfg) {\n            if (cfg.hasOwnProperty(\"lib\") && !!cfg[\"lib\"] === true && typeof cfg === \"object\") {\n                var library = cfg[\"lib\"];\n                if (library.constructor === Array) {\n                    _this._readCustomArray(library);\n                }\n                else if (typeof library === \"string\") {\n                    try {\n                        var framework = library.toString();\n                        _this.lib = require(\"./frameworks/\" + framework);\n                    }\n                    catch (ex) {\n                        _this._throwException(e.E2L001);\n                    }\n                }\n            }\n            else if (typeof cfg === \"string\") {\n                try {\n                    var framework = cfg.toString();\n                    _this.lib = require(\"./frameworks/\" + framework);\n                }\n                catch (ex) {\n                    _this._throwException(e.E2L001);\n                }\n            }\n        };\n        this._readLang = function (cfg) {\n            if (cfg.hasOwnProperty(\"lang\") && (_.contains(_this.languages, cfg[\"lang\"].toLowerCase()))) {\n                _this.lang = cfg[\"lang\"];\n            }\n            else if (cfg.hasOwnProperty(\"lang\")) {\n                _this._throwException(e.E2G001);\n            }\n        };\n        this._readRem = function (cfg) {\n            if (cfg.hasOwnProperty(\"rem\") && cfg[\"rem\"] !== false && typeof cfg[\"rem\"] === \"number\") {\n                _this.remSize = cfg[\"rem\"];\n            }\n            else if (cfg.hasOwnProperty(\"rem\") && cfg[\"rem\"] !== false) {\n                _this._throwException(e.E2G008);\n            }\n        };\n        this._readBuildCSS = function (cfg) {\n            if (cfg.hasOwnProperty(\"buildCSS\") && cfg[\"buildCSS\"] === true) {\n                _this.buildVars = true;\n            }\n            else if (cfg.hasOwnProperty(\"buildCSS\") && cfg[\"buildCSS\"] !== false) {\n                _this._throwException(e.E2G002);\n            }\n            else {\n                _this.buildVars = false;\n            }\n        };\n        this._readBuildVars = function (cfg) {\n            if (cfg.hasOwnProperty(\"buildVars\") && cfg[\"buildVars\"] === true) {\n                _this.buildVars = true;\n            }\n            else if (cfg.hasOwnProperty(\"buildVars\") && cfg[\"buildVars\"] !== false) {\n                _this._throwException(e.E2G003);\n            }\n            else {\n                _this.buildVars = false;\n            }\n        };\n        this._readCustomArray = function (config) {\n            if (config.constructor === Array) {\n                var strings = _.every(config, function (item) {\n                    _this._validateArrayValue(item);\n                });\n                if (strings === false) {\n                    _this._throwException(e.E2G004);\n                }\n                else {\n                    _this._parseCustomArray(_this.config.lib);\n                }\n            }\n            else if (typeof config === \"string\") {\n                _this.lib = config[\"lib\"];\n            }\n            else {\n                _this._throwException(e.E2G005);\n            }\n        };\n        this._validateArrayValue = function (item) {\n            if (typeof item === \"string\") {\n                return /^[0-9]+(px|em|rem)$/.test(item.toLowerCase());\n            }\n            else {\n                _this._throwException(e.E2G006);\n            }\n        };\n        this._parseCustomArray = function (lib) {\n            _.each(lib, function (element, index) {\n                var parsedItem = element.match(/^([-.\\d]+(?:.\\d+)?)(.*)$/);\n                var value = parsedItem[1].trim();\n                var unit = parsedItem[2].trim();\n                if (_.contains(\"px\", unit)) {\n                    value = _this._pxToRem(value);\n                }\n                _this.lib[index] = value;\n            });\n        };\n        this._pxToRem = function (pixels) {\n            return pixels / _this.remSize;\n        };\n        this._throwException = function (e, exception) {\n            if (!!e && typeof e === \"object\") {\n                if (e[\"type\"] === \"Error\") {\n                    var excpt = \"Error Details: \" + exception ? exception : \"\";\n                    throw new Error(\"easy-query: [\" + e[\"code\"] + \"] \" + e[\"title\"] + \": \" + e[\"message\"] + excpt);\n                }\n                if (!_this.debugMode) {\n                    if (e[\"type\"] === \"Warning\") {\n                        console.error(\"[\" + e[\"code\"] + \"] \" + e[\"title\"] + \": \" + e[\"message\"]);\n                    }\n                    if (e[\"type\"] === \"Information\") {\n                        console.log(\"[\" + e[\"code\"] + \"] \" + e[\"title\"] + \": \" + e[\"message\"]);\n                    }\n                }\n            }\n        };\n        this._getBreakNames = function (count) {\n            if (typeof count === \"number\" && count >= 1 && count <= 5) {\n                switch (count) {\n                    case 1: return [\"sm\", \"lg\"];\n                    case 2: return [\"sm\", \"md\", \"lg\"];\n                    case 3: return [\"xs\", \"sm\", \"md\", \"lg\"];\n                    case 4: return [\"xs\", \"sm\", \"md\", \"lg\", \"xl\"];\n                    case 5: return [\"xs\", \"sm\", \"md\", \"lg\", \"xl\", \"xx\"];\n                }\n            }\n            else {\n                _this._throwException(count < 1 || count > 5 ? \"E2G007\" : \"E2G008\");\n            }\n        };\n        this._generateRange = function (points, key) {\n            return _this.pfx + points[key] + \"-range: (\" + _this._pxToRem(_this.lib[key]) + \", \" + _this._pxToRem(_this.lib[++key] - _this.$rpx) + \");\\n\";\n        };\n        this._isFirst = function (points, key) {\n            _this.queued += _this.pfx + points[key] + \"-only: '\" + _this.query + \"screen} and (max-width: \" + (_this.lib[0] - _this.$rpx) + \"rem)';\\n\";\n            _this.queued += \".\" + points[key] + \"-only \" + _this.braceL + \"\\n\\tdisplay: none;\\n\" + _this.braceR + \"\\n\\n\";\n            return _this.queued;\n        };\n        this._isInner = function (points, key) {\n            var pointAbove = points[key + 1];\n            var pointBelow = points[key - 1];\n            var pointCurrent = points[key];\n            var bpBelow = _this.lib[key - 1];\n            var bpCurrent = _this.lib[key];\n            _this.queued += _this._generateRange(points, key);\n            _this.queued += _this.pfx + pointCurrent + \"-up: '#{$screen} and (min-width: \" + bpBelow + \"rem);\";\n            _this.queued += _this.pfx + pointCurrent + \"-down: '\" + _this.query + \"screen} and (max-width: \" + (bpCurrent - _this.$rpx) + \"rem);\";\n            _this.queued += _this.pfx + pointCurrent + \"-only: '\" + _this.query + \"screen} and (min-width: \" + bpBelow + \"rem) and (max-width: \" + (bpCurrent - _this.$rpx) + \"rem);\";\n            _this.queued += \".\" + pointCurrent + \"-up \" + _this.braceL + \"\\n\\t@media \" + _this.query + pointBelow + \"-\" + ((pointCurrent === \"sm\") ? \"only\" : \"down\") + _this.braceR + \" \" + _this.braceL + \"\\n\\t\\tdisplay: none;\\n\\t\" + _this.braceR + \"\\n\" + _this.braceR + \"\\n\\n;\";\n            _this.queued += \".\" + pointCurrent + \"-down \" + _this.braceL + \"\\n\\t@media \" + _this.query + pointAbove + \"-\" + ((_this.lib.length - 1 === key) ? \"only\" : \"up\") + _this.braceR + \" \" + _this.braceL + \"\\n\\t\\tdisplay: none;\\n}\\n\\t}\\n\\n;\";\n            _this.queued += \".\" + pointCurrent + \"-only \" + _this.braceL + \"\\n\\t@media \" + _this.query + pointBelow + \"-\" + ((pointCurrent === \"sm\") ? \"only\" : \"down\") + _this.braceR + \" \" + _this.braceL + \"\\n\\t\\tdisplay: none;\\n\\t\" + _this.braceR + \"\\n\\n\\t@media \" + _this.query + pointAbove + \"-\" + ((_this.lib.length - 1 === key) ? \"only\" : \"up\") + _this.braceR + \" \" + _this.braceL + \"\\n\\t\\tdisplay: none;\\n\" + _this.braceR + \"\\n\\t\" + _this.braceR + \"\\n\\n\";\n            return _this.queued;\n        };\n        this._isLast = function (points, key) {\n            _this.queued += _this.pfx + points[key] + \"-only: '\" + _this.query + \"screen} and (min-width: \" + _this.lib[key] + \"rem);\\n\";\n            _this.queued += \".\" + points[key] + \"-only \" + _this.braceL + \"\\n\\t@media\" + _this.query + points[0] + \"-\" + ((_this.lib.length === 1) ? \"only\" : \"down\") + _this.braceR + \" \" + _this.braceL + \"\\n\\t\\tdisplay: none; \\n\" + _this.braceR + \"\\n\\t\" + _this.braceR + \"\\n\\n\";\n            return _this.queued;\n        };\n        this._build = function (path, que) {\n            if (_this.lib.length) {\n                var count = _this.lib.length;\n                var points = _this._getBreakNames(count);\n                for (var x = 0; x < count; x++) {\n                    que += (x === 0) ? _this._isFirst(points, x) : (x === count - 1) ? _this._isLast(points, x) : _this._isInner(points, x);\n                }\n                return _this._writeFile(path, que).then(_this._handleWriteFulfill, _this._handleWriteError);\n            }\n            else {\n                _this._throwException(e.E2I001);\n            }\n        };\n        this._writeFile = function (path, que) {\n            var deferred = q.defer();\n            var language = _this.lang;\n            fs.writeFile(path + \"/_easy-query.scss\", que, function (error) {\n                if (error) {\n                    deferred.reject(\"Could not write to file. Error Message: \" + error);\n                }\n                else {\n                    var returnPath = path + ((_.contains([\"sass\", \"scss\"], language)) ? \"_\" : \"\") + \"easy-query.\" + language;\n                    deferred.resolve(returnPath);\n                }\n            });\n            return deferred.promise;\n        };\n        this._handleWriteFulfill = function (returnPath) {\n            return returnPath;\n        };\n        this._handleWriteError = function (err) {\n            _this._throwException(e.E2F001, err);\n        };\n        /** PUBLIC FUNCTIONS **/\n        this.write = function (path, cb) {\n            var returnPath = _this._build(path, _this.queued);\n            if (!!cb) {\n                cb(returnPath);\n            }\n        };\n        this.getCSS = function () {\n            try {\n                if (_this.buildCSS) {\n                    return _this.builtCSS;\n                }\n                else {\n                    _this._throwException(e.E0G111);\n                }\n            }\n            catch (ex) {\n                _this._throwException(e.E1P005, ex);\n            }\n        };\n        this.getVariables = function () {\n            try {\n                if (_this.buildVars === true) {\n                    if (_this.builtVars) {\n                        return _this.builtVars;\n                    }\n                    else {\n                        _this._throwException(e.E2G213);\n                    }\n                }\n                else {\n                    /** ********************************************************** **/\n                    /** ********************************************************** **/\n                    /** ********************************************************** **/\n                    _this._throwException(e.E0G112);\n                }\n            }\n            catch (ex) {\n                _this._throwException(e.E1P006, ex);\n            }\n        };\n        this.getLanguage = function () {\n            try {\n                return _this.lang;\n            }\n            catch (ex) {\n                _this._throwException(e.E1P001, ex);\n            }\n        };\n        this.getLanguages = function () {\n            try {\n                return _this.languages;\n            }\n            catch (ex) {\n                _this._throwException(e.E1P004, ex);\n            }\n        };\n        this.setLanguage = function (lang) {\n            if (_.contains(_this.languages, lang)) {\n                _this.lang = lang;\n            }\n            else {\n                _this._throwException(e.E1G109);\n            }\n        };\n        this.getBreakpoints = function () {\n            try {\n                return _this.lib;\n            }\n            catch (ex) {\n                _this._throwException(e.E1P003, ex);\n            }\n        };\n        this.setBreakpoints = function (config) {\n            _this._readCustomArray(config);\n        };\n        this.getRemSize = function () {\n            try {\n                return _this.remSize;\n            }\n            catch (ex) {\n                _this._throwException(e.E1P002, ex);\n            }\n        };\n        this.setRemSize = function (rem) {\n            if (typeof rem === \"number\") {\n                _this.remSize = rem;\n            }\n            else {\n                _this._throwException(e.E2G110);\n            }\n        };\n        this.getDebugMode = function () {\n            try {\n                return _this.debugMode;\n            }\n            catch (ex) {\n                _this._throwException(e.E1P007, ex);\n            }\n        };\n        this.setDebugMode = function (debugMode) {\n            _this.debugMode = debugMode;\n        };\n        this.lang = \"scss\";\n        this.remSize = 16;\n        this.config = obj;\n        this.buildCSS = true;\n        this.buildVars = true;\n        this.pfx = this.lang.toLowerCase() === \"less\" ? \"@\" : \"$\";\n        this.braceL = this.lang.toLowerCase() === \"scss\" ? \"{\" : \"\";\n        this.braceR = this.lang.toLowerCase() === \"scss\" ? \"}\" : \"\";\n        this.query = this.lang.toLowerCase() === \"less\" ? \"@{\" : \"#{$\";\n        this._initialize(this.config);\n    }\n    return EasyQuery;\n}());\nmodule.exports = function (object) {\n    return new EasyQuery(object);\n};\n//# sourceMappingURL=index.js.map"],"sourceRoot":"/source/"}